<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sun Calculator</title>
    <style>
    * {
      box-sizing: border-box;
    }
    
    /* Create two equal columns that floats next to each other */
    .column {
      float: left;
      width: 50%;
      padding: 25px;
      /* height: 300px; Should be removed. Only for demonstration */
    }
    
    /* Clear floats after the columns */
    .row:after {
      content: "";
      display: table;
      clear: both;
    }

    </style>
</head>

<body style="background-image: url('../static/yearth.png');">
    <!-- style="background-image: url('../static/yearth.png');" -->
    <h1 align="center">Y-EARTH | Interactive Sun Calculator 交互式太阳时空信息计算器</h1>
    <div class="row">
        <div class="column" style="background-color:lightgoldenrodyellow;">
            <form action="/information" method="post" target="_blank">
                <input type="submit" name="info" value="User guide">
                <input type="submit" name="info" value="More information">
                <input type="submit" name="info" value="Contact us">
            </form> 
            <form action="/maps" method="post" target="_blank" name="place">
                <label for="location">Find or register a place</label>
                <input type="text" name="location">
                <button type="submit">Continue</button>
                <a href="/maps" target="_blank"><b>See registered places</b></a>
            </form>
            <form action="/" method="post" id="questions">
                <h2>Describe all requirements for calculation/plotting</h2>
                <b>--Write any number of requirements, starting each one in a new line--</b><br>
                <textarea name="taskDesc" rows="4" cols="85"></textarea><br><br>
                <button type="submit">Summarize descriptions>></button>
            </form>
            <form action="/" method="post" id="details">
                <h2>Alternatively, fill in the details of requirements.</h2>
                <b>--Select 1 or more to calculate/plot as dependent variable(s)--</b><br>
                Sunrise<input type="checkbox" name="Sunrise">
                ; Sunset<input type="checkbox" name="Sunset">
                ; Solar Noon<input type="checkbox" name="Noon">
                ; Sun Height<input type="checkbox" name="QHeight">
                ; Sun Direction<input type="checkbox" name="QDirection">
                ; Date<input type="checkbox" name="QDate">
                ; Local Time<input type="checkbox" name="QTime">
                ; Time Zone<input type="checkbox" name="TZ">
                ; Latitude<input type="checkbox" name="QLat">
                <br><b>**For plotting only** What is the independent variable?</b><br>
                Date<input type="checkbox" name="PDate">
                ; Local Time<input type="checkbox" name="PTime">
                ; Latitude<input type="checkbox" name="PLat">
                ; Altitude<input type="checkbox" name="PAlt"><br><br>
                
                <b>--Given conditions (fill in those needed)--</b><br>
                <label for="Longitude">Longitude: </label><input type="number" step="0.01" min="-180" max="180" name="Longitude"></label> 
                    <label for="East">East</label><input type="radio" name="EW" value="East"><label for="West">;West</label><input type="radio" name="EW" value="West">
                , Latitude: <input type="number" step="0.01" min="-90" max="90" name="Latitude"></label>
                    <label for="North">North</label><input type="radio" name="NS" value="North"><label for="South">;South</label><input type="radio" name="NS" value="South"><br>
                <label for="Altitude">Altitude: </label><input type="number" step="0.01" min="0" name="Altitude">
                m<input type="radio" name="unit" value="m">; km<input type="radio" name="unit" value="km">; ft<input type="radio" name="unit" value="ft"><br>
                Date: Month <input type="number" min="1" max="12" name="Month">
                / Day <input type="number" min="1" max="31" name="Day"><br>
                Local Time <input type="number" min="0" max="24" name="Hour">
                : <input type="number" min="0" max="59" name="Minute">
                : <input type="number" min="0" max="59" name="Second">
                <label for="GMT">Time Zone GMT </label><input type="number" min="-12" max="12" name="GMT"><br>   
                <label for="Height">Sun Height Angle: </label><input type="number" step="0.01" min="-90" max="90" name="Height">
                <label for="Direction">Sun Direction Angle: </label><input type="number" step="0.01" min="0" max="360" name="Direction"><br><br>
                <button type="submit">Submit form>></button>
            </form>

        </div>
        <div class="column" style="background-color:aquamarine;">
            <h2>Summary, calculation, and visualization</h2>
            {% if abstracts %}
            <form action="/" method="post">
                Select or enter which question to show (1-{{abnum}}) 
                <input type="number" name="abiEnter" min="1" max="{{abnum}}"><button type="submit">Confirm</button><br>
                Jump to question: <input type="submit" name="abip" value="<previous">
                {% for ab in abstracts[:5]%}
                    <input type="submit" name="abiClick" value="{{ab.num}}">
                {% endfor %}
                 ... <input type="submit" name="abin" value="next>">
            </form>
            <form action="/" method="post">
                <h3>-- Showing Question {{abi}} -- <input type="submit" name="Reset{{abi}}" value="Resubmit question"></h3>
                
                <textarea name="Question{{abi}}" cols="85" rows="2">{{abstracts[abi-1].taskDesc}}</textarea>
                Summary: <b>{{abstracts[abi-1].interpret}}</b><br>
                {% for cond in abstracts[abi-1].conditions %}
                    <b style="padding: 25px;">*  {{cond}}</b><br>
                {% endfor %}
                Is the summary correct?
                <input type="radio" name="adding" value="{{abi}}" form="details"><b>Add/Update details using the form | </b> 
                <input type="submit" name="Calculate{{abi}}" value="Calculate"> |
                <input type="submit" name="Plot{{abi}}" value="Draw plot(s)">
            </form>
                {% if abstracts[abi-1].plots %}
                <textarea cols="80" rows="10">{{abstracts[abi-1].plots[0].show()}}</textarea>
                {% endif %}
                {% if abstracts[abi-1].response %}
                <textarea readonly rows="4", cols="80">{% for resp in abstracts[abi-1].response %}{{resp}}{% endfor %}</textarea><br><br>
                {% endif %}
            {% endif %}
            </form>
        </div>
    </div>
</body>